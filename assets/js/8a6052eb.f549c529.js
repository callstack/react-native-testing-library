"use strict";(self.webpackChunkreact_native_testing_library_website=self.webpackChunkreact_native_testing_library_website||[]).push([[63],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return g}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=a,g=u["".concat(l,".").concat(m)]||u[m]||d[m]||i;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7282:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return g},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=["components"],s={id:"getting-started",title:"Getting Started"},l=void 0,c={unversionedId:"getting-started",id:"getting-started",title:"Getting Started",description:"The problem",source:"@site/docs/GettingStarted.md",sourceDirName:".",slug:"/getting-started",permalink:"/react-native-testing-library/docs/getting-started",draft:!1,editUrl:"https://github.com/callstack/react-native-testing-library/blob/main/website/docs/GettingStarted.md",tags:[],version:"current",frontMatter:{id:"getting-started",title:"Getting Started"},sidebar:"docs",next:{title:"FAQ",permalink:"/react-native-testing-library/docs/faq"}},p={},u=[{value:"The problem",id:"the-problem",level:2},{value:"This solution",id:"this-solution",level:2},{value:"Installation",id:"installation",level:2},{value:"Using <code>yarn</code>",id:"using-yarn",level:4},{value:"Using <code>npm</code>",id:"using-npm",level:4},{value:"Additional Jest matchers",id:"additional-jest-matchers",level:3},{value:"Using <code>yarn</code>",id:"using-yarn-1",level:4},{value:"Using <code>npm</code>",id:"using-npm-1",level:4},{value:"Flow",id:"flow",level:3},{value:"Example",id:"example",level:2}],d={toc:u},m="wrapper";function g(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)(m,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"the-problem"},"The problem"),(0,i.kt)("p",null,"You want to write maintainable tests for your React Native components. As a part of this goal, you want your tests to avoid including implementation details of your components and rather focus on making your tests give you the confidence for which they are intended. As part of this, you want your testbase to be maintainable in the long run so refactors of your components (changes to implementation but not functionality) don't break your tests and slow you and your team down."),(0,i.kt)("h2",{id:"this-solution"},"This solution"),(0,i.kt)("p",null,"The React Native Testing Library (RNTL) is a lightweight solution for testing React Native components. It provides light utility functions on top of ",(0,i.kt)("inlineCode",{parentName:"p"},"react-test-renderer"),", in a way that encourages better testing practices. Its primary guiding principle is:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The more your tests resemble the way your software is used, the more confidence they can give you.")),(0,i.kt)("p",null,"This project is inspired by ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/testing-library/react-testing-library"},"React Testing Library"),". Tested to work with Jest, but it should work with other test runners as well."),(0,i.kt)("p",null,"You can find the source of ",(0,i.kt)("inlineCode",{parentName:"p"},"QuestionsBoard")," component and this example ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/callstack/react-native-testing-library/blob/main/src/__tests__/questionsBoard.test.tsx"},"here"),"."),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"Open a Terminal in your project's folder and run:"),(0,i.kt)("h4",{id:"using-yarn"},"Using ",(0,i.kt)("inlineCode",{parentName:"h4"},"yarn")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add --dev @testing-library/react-native\n")),(0,i.kt)("h4",{id:"using-npm"},"Using ",(0,i.kt)("inlineCode",{parentName:"h4"},"npm")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"npm install --save-dev @testing-library/react-native\n")),(0,i.kt)("p",null,"This library has a peerDependencies listing for ",(0,i.kt)("inlineCode",{parentName:"p"},"react-test-renderer")," and, of course, ",(0,i.kt)("inlineCode",{parentName:"p"},"react"),". Make sure to install them too!"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In order to properly use helpers for async tests (",(0,i.kt)("inlineCode",{parentName:"p"},"findBy")," queries and ",(0,i.kt)("inlineCode",{parentName:"p"},"waitFor"),") you need at least React >=16.9.0 (featuring async ",(0,i.kt)("inlineCode",{parentName:"p"},"act"),") or React Native >=0.61 (which comes with React >=16.9.0).")),(0,i.kt)("h3",{id:"additional-jest-matchers"},"Additional Jest matchers"),(0,i.kt)("p",null,"In order to use addtional React Native-specific jest matchers from ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/testing-library/jest-native"},"@testing-library/jest-native")," package add it to your project:"),(0,i.kt)("h4",{id:"using-yarn-1"},"Using ",(0,i.kt)("inlineCode",{parentName:"h4"},"yarn")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add --dev @testing-library/jest-native\n")),(0,i.kt)("h4",{id:"using-npm-1"},"Using ",(0,i.kt)("inlineCode",{parentName:"h4"},"npm")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"npm install --save-dev @testing-library/jest-native\n")),(0,i.kt)("p",null,"Then automatically add it to your jest tests by using ",(0,i.kt)("inlineCode",{parentName:"p"},"setupFilesAfterEnv")," option in your Jest configuration (it's usually located either in ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," under ",(0,i.kt)("inlineCode",{parentName:"p"},'"jest"')," key or in a ",(0,i.kt)("inlineCode",{parentName:"p"},"jest.config.js")," file):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "preset": "react-native",\n  "setupFilesAfterEnv": ["@testing-library/jest-native/extend-expect"]\n}\n')),(0,i.kt)("h3",{id:"flow"},"Flow"),(0,i.kt)("p",null,"Note for ",(0,i.kt)("a",{parentName:"p",href:"https://flow.org"},"Flow")," users \u2013 you'll also need to install typings for ",(0,i.kt)("inlineCode",{parentName:"p"},"react-test-renderer"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"flow-typed install react-test-renderer\n")),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import { render, screen, fireEvent } from '@testing-library/react-native';\nimport { QuestionsBoard } from '../QuestionsBoard';\n\ntest('form submits two answers', () => {\n  const allQuestions = ['q1', 'q2'];\n  const mockFn = jest.fn();\n\n  render(<QuestionsBoard questions={allQuestions} onSubmit={mockFn} />);\n\n  const answerInputs = screen.getAllByLabelText('answer input');\n\n  fireEvent.changeText(answerInputs[0], 'a1');\n  fireEvent.changeText(answerInputs[1], 'a2');\n  fireEvent.press(screen.getByText('Submit'));\n\n  expect(mockFn).toBeCalledWith({\n    1: { q: 'q1', a: 'a1' },\n    2: { q: 'q2', a: 'a2' },\n  });\n});\n")),(0,i.kt)("p",null,"You can find the source of ",(0,i.kt)("inlineCode",{parentName:"p"},"QuestionsBoard")," component and this example ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/callstack/react-native-testing-library/blob/main/src/__tests__/questionsBoard.test.tsx"},"here"),"."))}g.isMDXComponent=!0}}]);