"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=waitForExpect;function waitForExpect(expectation){var timeout=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4500;var interval=arguments.length>2&&arguments[2]!==undefined?arguments[2]:50;var startTime=Date.now();return new Promise(function(resolve,reject){var rejectOrRerun=function rejectOrRerun(error){if(Date.now()-startTime>=timeout){reject(error);return;}setTimeout(runExpectation,interval);};function runExpectation(){try{var result=expectation();resolve(result);}catch(error){rejectOrRerun(error);}}setTimeout(runExpectation,0);});}